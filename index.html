<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="FietsQuiz - Leer de Nederlandse verkeersregels op een leuke manier! Voor kinderen van 9 jaar.">
    <meta name="keywords" content="fietsen, verkeersregels, verkeerseducatie, kinderen, quiz, Nederland">
    <meta name="author" content="FietsQuiz">

    <!-- Open Graph meta tags -->
    <meta property="og:title" content="FietsQuiz - Leer de Verkeersregels!">
    <meta property="og:description" content="Leer de Nederlandse verkeersregels op een leuke manier! Voor kinderen van 9 jaar.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://donniedarko95.github.io/fietsquiz/">
    <meta property="og:image" content="https://donniedarko95.github.io/fietsquiz/images/og-image.png">

    <!-- Favicon using emoji -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üö≤</text></svg>">

    <title>FietsQuiz - Leer de Verkeersregels!</title>

    <!-- Google Fonts - Nunito -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Tailwind CSS Play CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Nunito', 'system-ui', '-apple-system', 'sans-serif']
                    },
                    colors: {
                        primary: {
                            50: '#fff7ed',
                            100: '#ffedd5',
                            200: '#fed7aa',
                            300: '#fdba74',
                            400: '#fb923c',
                            500: '#f97316',
                            600: '#ea580c',
                            700: '#c2410c',
                            800: '#9a3412',
                            900: '#7c2d12',
                        }
                    },
                    animation: {
                        'bounce-slow': 'bounce 2s infinite',
                        'pulse-slow': 'pulse 3s infinite',
                        'wiggle': 'wiggle 1s ease-in-out infinite',
                    },
                    keyframes: {
                        wiggle: {
                            '0%, 100%': { transform: 'rotate(-3deg)' },
                            '50%': { transform: 'rotate(3deg)' },
                        }
                    },
                    boxShadow: {
                        'premium': '0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04)',
                        'glow': '0 0 20px rgba(251, 146, 60, 0.4)',
                    }
                }
            }
        }
    </script>

    <!-- Custom Animations CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-[#f8f9fc] font-sans antialiased">
    <!-- Main App Container -->
    <div id="app" class="min-h-screen relative overflow-hidden">

        <!-- 1. Splash/Loading Screen -->
        <div class="screen active fixed inset-0 flex items-center justify-center bg-gradient-to-br from-orange-500 via-amber-400 to-yellow-300 z-50" id="screen-splash">
            <div class="text-center">
                <div class="relative inline-block mb-6">
                    <div class="absolute inset-0 animate-ping opacity-20">
                        <div class="w-36 h-36 rounded-full bg-white"></div>
                    </div>
                    <div class="relative text-9xl animate-bounce-slow" role="img" aria-label="Fiets">üö≤</div>
                </div>
                <h1 class="text-6xl font-black text-white mb-4 drop-shadow-2xl tracking-tight">FietsQuiz</h1>
                <p class="text-2xl text-white font-bold mb-8 opacity-90">Leer de verkeersregels!</p>
                <div class="flex items-center justify-center gap-2 mb-2">
                    <div class="w-3 h-3 bg-white rounded-full loading-dot" style="animation-delay: 0s"></div>
                    <div class="w-3 h-3 bg-white rounded-full loading-dot" style="animation-delay: 0.2s"></div>
                    <div class="w-3 h-3 bg-white rounded-full loading-dot" style="animation-delay: 0.4s"></div>
                </div>
                <p class="text-sm text-white/80 font-semibold mt-4">Versie 1.0 ‚Ä¢ Voor jonge fietsers</p>
            </div>
        </div>

        <!-- 2. Home/Dashboard Screen -->
        <div class="screen fixed inset-0 bg-[#f8f9fc] overflow-y-auto pb-24" id="screen-home">
            <div class="max-w-4xl mx-auto px-6 py-8">
                <!-- Player Profile Section -->
                <header class="bg-white rounded-3xl shadow-premium border border-gray-100 p-8 mb-6">
                    <div class="flex items-center gap-6 mb-6">
                        <div class="w-24 h-24 rounded-full bg-gradient-to-br from-orange-500 to-amber-500 flex items-center justify-center text-5xl shadow-premium ring-4 ring-orange-200/50">
                            üë§
                        </div>
                        <div class="flex-1">
                            <h2 class="text-3xl font-black text-slate-900 mb-2" id="player-title">Beginnende Fietser</h2>
                            <div class="flex items-center gap-4 text-sm">
                                <span class="flex items-center gap-1.5 text-amber-600 font-bold bg-amber-50 px-3 py-1.5 rounded-full" id="xp-display">
                                    <span class="text-xl">‚≠ê</span>
                                    <span id="current-xp">0</span> XP
                                </span>
                                <span class="flex items-center gap-1.5 text-orange-600 font-bold bg-orange-50 px-3 py-1.5 rounded-full" id="streak-display">
                                    <span class="text-xl">üî•</span>
                                    <span id="streak-count">0</span> dagen
                                </span>
                            </div>
                        </div>
                    </div>

                    <!-- XP Progress Bar -->
                    <div class="space-y-2">
                        <div class="relative h-5 bg-gray-100 rounded-full overflow-hidden border border-gray-200">
                            <div class="absolute inset-0 bg-gradient-to-r from-orange-500 via-amber-400 to-yellow-400 rounded-full transition-all duration-500 xp-progress-shimmer" id="xp-progress-fill" style="width: 0%"></div>
                        </div>
                        <p class="xp-progress-text text-sm text-slate-600 text-center font-semibold">
                            <span id="xp-to-next">100</span> XP tot <span id="next-title" class="font-bold text-slate-900">Ervaren Fietser</span>
                        </p>
                    </div>
                </header>

                <!-- Stats Section -->
                <section class="grid grid-cols-3 gap-4 mb-6">
                    <div class="bg-gradient-to-br from-blue-50 to-sky-50 rounded-3xl shadow-premium border border-blue-100 p-6 hover:shadow-glow hover:-translate-y-1 transition-all duration-300 cursor-pointer">
                        <div class="w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-sky-600 flex items-center justify-center text-2xl mb-3 mx-auto shadow-lg">üìö</div>
                        <div class="text-4xl font-black text-slate-900 text-center mb-1" id="lessons-completed">0</div>
                        <div class="text-sm text-slate-600 text-center font-bold">Lessen voltooid</div>
                    </div>
                    <div class="bg-gradient-to-br from-amber-50 to-yellow-50 rounded-3xl shadow-premium border border-amber-100 p-6 hover:shadow-glow hover:-translate-y-1 transition-all duration-300 cursor-pointer">
                        <div class="w-14 h-14 rounded-full bg-gradient-to-br from-amber-400 to-yellow-500 flex items-center justify-center text-2xl mb-3 mx-auto shadow-lg">‚≠ê</div>
                        <div class="text-4xl font-black text-slate-900 text-center mb-1" id="stars-earned">0</div>
                        <div class="text-sm text-slate-600 text-center font-bold">Sterren verdiend</div>
                    </div>
                    <div class="bg-gradient-to-br from-emerald-50 to-teal-50 rounded-3xl shadow-premium border border-emerald-100 p-6 hover:shadow-glow hover:-translate-y-1 transition-all duration-300 cursor-pointer">
                        <div class="w-14 h-14 rounded-full bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center text-2xl mb-3 mx-auto shadow-lg">üèÖ</div>
                        <div class="text-4xl font-black text-slate-900 text-center mb-1" id="badges-earned-count">0</div>
                        <div class="text-sm text-slate-600 text-center font-bold">Badges</div>
                    </div>
                </section>

                <!-- CTA Button -->
                <section>
                    <button class="w-full bg-gradient-to-r from-orange-500 via-orange-600 to-amber-500 hover:from-orange-600 hover:via-orange-700 hover:to-amber-600 text-white text-2xl font-black py-7 rounded-2xl shadow-premium hover:shadow-glow hover:-translate-y-1 active:scale-[0.98] transition-all duration-300 flex items-center justify-center gap-3 cta-pulse" id="btn-start-learning">
                        <span class="text-4xl">üöÄ</span>
                        Start Leren
                    </button>
                </section>
            </div>

            <!-- Bottom Navigation -->
            <nav class="bottom-nav fixed bottom-0 left-0 right-0 backdrop-blur-xl bg-white/80 shadow-[0_-4px_20px_rgba(0,0,0,0.08)] z-40" id="bottom-nav">
                <div class="max-w-4xl mx-auto flex items-center justify-around h-20">
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 relative transition-all" data-screen="home" aria-label="Home">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-100 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üè†</span>
                        <span class="text-xs font-bold text-orange-600 relative z-10">Home</span>
                        <div class="absolute bottom-1 w-1 h-1 rounded-full bg-orange-500"></div>
                    </button>
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 text-slate-500 hover:text-orange-500 relative transition-all" data-screen="map" aria-label="Leren">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-0 hover:opacity-50 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üó∫Ô∏è</span>
                        <span class="text-xs font-bold relative z-10">Leren</span>
                    </button>
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 text-slate-500 hover:text-orange-500 relative transition-all" data-screen="flashcard-review" aria-label="Kaarten">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-0 hover:opacity-50 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üÉè</span>
                        <span class="text-xs font-bold relative z-10">Kaarten</span>
                    </button>
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 text-slate-500 hover:text-orange-500 relative transition-all" data-screen="badges" aria-label="Badges">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-0 hover:opacity-50 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üèÖ</span>
                        <span class="text-xs font-bold relative z-10">Badges</span>
                    </button>
                </div>
            </nav>
        </div>

        <!-- 3. Level Map Screen -->
        <div class="screen fixed inset-0 bg-gradient-to-b from-sky-50 via-blue-50 to-slate-50 overflow-y-auto pb-24" id="screen-map">
            <div class="max-w-4xl mx-auto px-6 py-8">
                <header class="text-center mb-8">
                    <h1 class="text-5xl font-black text-slate-900 mb-3 tracking-tight">üó∫Ô∏è Jouw Leerpad</h1>
                    <p class="text-lg text-slate-600 font-semibold">Voltooi alle niveaus en word een fietsexpert!</p>
                </header>

                <main class="relative">
                    <div class="space-y-8" id="level-path">
                        <!-- Levels will be dynamically inserted here by JS -->
                        <!-- Example structure maintained for JS compatibility -->
                    </div>
                </main>
            </div>

            <!-- Bottom Navigation -->
            <nav class="bottom-nav fixed bottom-0 left-0 right-0 backdrop-blur-xl bg-white/80 shadow-[0_-4px_20px_rgba(0,0,0,0.08)] z-40" id="bottom-nav-map">
                <div class="max-w-4xl mx-auto flex items-center justify-around h-20">
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 text-slate-500 hover:text-orange-500 relative transition-all" data-screen="home" aria-label="Home">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-0 hover:opacity-50 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üè†</span>
                        <span class="text-xs font-bold relative z-10">Home</span>
                    </button>
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 relative transition-all" data-screen="map" aria-label="Leren">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-100 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üó∫Ô∏è</span>
                        <span class="text-xs font-bold text-orange-600 relative z-10">Leren</span>
                        <div class="absolute bottom-1 w-1 h-1 rounded-full bg-orange-500"></div>
                    </button>
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 text-slate-500 hover:text-orange-500 relative transition-all" data-screen="flashcard-review" aria-label="Kaarten">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-0 hover:opacity-50 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üÉè</span>
                        <span class="text-xs font-bold relative z-10">Kaarten</span>
                    </button>
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 text-slate-500 hover:text-orange-500 relative transition-all" data-screen="badges" aria-label="Badges">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-0 hover:opacity-50 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üèÖ</span>
                        <span class="text-xs font-bold relative z-10">Badges</span>
                    </button>
                </div>
            </nav>
        </div>

        <!-- 4. Level Detail / Lesson List -->
        <div class="screen fixed inset-0 overflow-y-auto pb-8" id="screen-level">
            <header class="level-header bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 text-white px-6 py-10 relative shadow-premium" id="level-header" style="background-image: url('data:image/svg+xml,%3Csvg width=&quot;60&quot; height=&quot;60&quot; viewBox=&quot;0 0 60 60&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;%3E%3Cg fill=&quot;none&quot; fill-rule=&quot;evenodd&quot;%3E%3Cg fill=&quot;%23ffffff&quot; fill-opacity=&quot;0.05&quot;%3E%3Cpath d=&quot;M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z&quot;/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');">
                <button class="absolute top-6 left-6 w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm hover:bg-white/30 flex items-center justify-center text-2xl font-bold transition-all shadow-lg active:scale-95" id="btn-back-to-map" aria-label="Terug naar overzicht">
                    ‚Üê
                </button>
                <div class="text-center pt-8">
                    <div class="text-8xl mb-5 drop-shadow-2xl" id="level-icon-large">üö¶</div>
                    <h1 class="text-4xl font-black mb-3 tracking-tight drop-shadow-lg" id="level-name">Niveau Naam</h1>
                    <p class="text-blue-100 text-lg font-semibold" id="level-description">Niveau beschrijving</p>
                </div>
            </header>

            <main class="max-w-4xl mx-auto px-6 py-8">
                <div class="space-y-4" id="lessons-list">
                    <!-- Lessons will be dynamically inserted here by JS -->
                    <!-- Example: JS will create cards with proper structure -->
                </div>
            </main>
        </div>

        <!-- 5. Lesson/Game Screen -->
        <div class="screen fixed inset-0 bg-[#f8f9fc] overflow-y-auto" id="screen-lesson">
            <!-- Top Bar -->
            <header class="bg-white/95 backdrop-blur-lg border-b border-gray-100 shadow-premium sticky top-0 z-30">
                <div class="max-w-4xl mx-auto px-4 py-4 flex items-center justify-between gap-4">
                    <button class="w-11 h-11 rounded-full bg-slate-100 hover:bg-slate-200 flex items-center justify-center text-xl font-bold text-slate-600 transition-all active:scale-95 shadow-sm" id="btn-close-lesson" aria-label="Sluiten">
                        ‚úï
                    </button>
                    <div class="flex-1 flex items-center gap-3">
                        <div class="flex-1 h-3.5 bg-gray-200 rounded-full overflow-hidden border border-gray-300/50">
                            <div class="h-full bg-gradient-to-r from-orange-500 to-amber-400 rounded-full transition-all duration-300" id="lesson-progress-fill" style="width: 0%"></div>
                        </div>
                        <div class="text-sm font-bold text-slate-700 whitespace-nowrap bg-slate-100 px-3 py-1 rounded-full" id="question-counter">0/10</div>
                    </div>
                    <div class="flex items-center gap-1.5" id="hearts-container">
                        <span class="heart text-2xl drop-shadow" data-heart="1">‚ù§Ô∏è</span>
                        <span class="heart text-2xl drop-shadow" data-heart="2">‚ù§Ô∏è</span>
                        <span class="heart text-2xl drop-shadow" data-heart="3">‚ù§Ô∏è</span>
                    </div>
                </div>
            </header>

            <main class="max-w-4xl mx-auto px-6 py-8">
                <!-- Quiz Mode Container -->
                <div class="game-container hidden" id="game-quiz">
                    <div class="bg-white rounded-3xl shadow-premium border border-gray-100 p-8 mb-8">
                        <p class="text-xl font-bold text-slate-900 leading-relaxed" id="quiz-question">Vraag tekst komt hier</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="quiz-options">
                        <button class="option-btn bg-white border-2 border-gray-200 rounded-2xl p-5 text-left text-lg font-semibold text-slate-700 hover:border-orange-400 hover:bg-orange-50/30 hover:shadow-premium hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-3" data-option="0"><span class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm font-bold text-slate-600">A</span><span class="flex-1">Optie 1</span></button>
                        <button class="option-btn bg-white border-2 border-gray-200 rounded-2xl p-5 text-left text-lg font-semibold text-slate-700 hover:border-orange-400 hover:bg-orange-50/30 hover:shadow-premium hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-3" data-option="1"><span class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm font-bold text-slate-600">B</span><span class="flex-1">Optie 2</span></button>
                        <button class="option-btn bg-white border-2 border-gray-200 rounded-2xl p-5 text-left text-lg font-semibold text-slate-700 hover:border-orange-400 hover:bg-orange-50/30 hover:shadow-premium hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-3" data-option="2"><span class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm font-bold text-slate-600">C</span><span class="flex-1">Optie 3</span></button>
                        <button class="option-btn bg-white border-2 border-gray-200 rounded-2xl p-5 text-left text-lg font-semibold text-slate-700 hover:border-orange-400 hover:bg-orange-50/30 hover:shadow-premium hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-3" data-option="3"><span class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm font-bold text-slate-600">D</span><span class="flex-1">Optie 4</span></button>
                    </div>
                </div>

                <!-- True/False Mode Container -->
                <div class="game-container hidden" id="game-truefalse">
                    <div class="mb-6 h-3 bg-gray-200 rounded-full overflow-hidden border border-gray-300" id="truefalse-timer">
                        <div class="h-full bg-gradient-to-r from-orange-500 to-amber-400 rounded-full transition-all" id="truefalse-timer-fill" style="width: 100%"></div>
                    </div>
                    <div class="bg-white rounded-3xl shadow-premium border border-gray-100 p-12 mb-8 text-center">
                        <p class="text-2xl font-black text-slate-900 leading-relaxed" id="truefalse-statement">Bewering komt hier</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <button class="bg-gradient-to-br from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-2xl font-black py-14 rounded-3xl shadow-premium hover:shadow-glow hover:-translate-y-1 active:scale-[0.98] transition-all duration-300 flex items-center justify-center gap-3" id="btn-true">
                            <span class="text-5xl">‚úì</span>
                            Waar
                        </button>
                        <button class="bg-gradient-to-br from-rose-500 to-red-600 hover:from-rose-600 hover:to-red-700 text-white text-2xl font-black py-14 rounded-3xl shadow-premium hover:shadow-glow hover:-translate-y-1 active:scale-[0.98] transition-all duration-300 flex items-center justify-center gap-3" id="btn-false">
                            <span class="text-5xl">‚úó</span>
                            Niet Waar
                        </button>
                    </div>
                </div>

                <!-- Memory Mode Container -->
                <div class="game-container hidden" id="game-memory">
                    <div class="flex items-center justify-between mb-6">
                        <div class="text-lg font-semibold text-gray-700" id="match-counter">Gevonden: 0/6</div>
                        <div class="text-lg font-semibold text-gray-700" id="memory-timer">Tijd: 0:00</div>
                    </div>
                    <div class="grid grid-cols-3 md:grid-cols-4 gap-4" id="memory-grid">
                        <!-- Memory cards will be dynamically inserted here -->
                    </div>
                </div>

                <!-- Matching/Drag Mode Container -->
                <div class="game-container hidden" id="game-matching">
                    <div class="mb-6 text-center">
                        <p class="text-lg font-semibold text-gray-700 mb-2">Sleep de items naar de juiste plek</p>
                        <div class="text-2xl font-bold text-orange-600" id="matching-score">Score: 0/5</div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 relative">
                        <div class="space-y-4" id="matching-left">
                            <!-- Draggable items will be inserted here -->
                        </div>
                        <div class="space-y-4" id="matching-right">
                            <!-- Drop targets will be inserted here -->
                        </div>
                    </div>
                    <svg class="absolute inset-0 pointer-events-none" id="matching-lines" style="z-index: 1;">
                        <!-- SVG lines connecting matched pairs -->
                    </svg>
                </div>

                <!-- Flashcard Mode Container -->
                <div class="game-container hidden" id="game-flashcards">
                    <div class="max-w-2xl mx-auto">
                        <div class="relative mb-8" style="perspective: 1000px;">
                            <div class="relative bg-white rounded-3xl shadow-premium cursor-pointer aspect-[4/3] border-2 border-gray-200" id="flashcard" style="transform-style: preserve-3d; transition: transform 0.6s;">
                                <div class="flashcard-inner absolute inset-0" id="flashcard-inner" style="transform-style: preserve-3d; transition: transform 0.6s;">
                                    <div class="flashcard-front absolute inset-0 bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50 rounded-3xl border-4 border-orange-300 flex items-center justify-center p-12 shadow-premium" style="backface-visibility: hidden; background-image: url('data:image/svg+xml,%3Csvg width=&quot;40&quot; height=&quot;40&quot; viewBox=&quot;0 0 40 40&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;%3E%3Cg fill=&quot;%23fb923c&quot; fill-opacity=&quot;0.05&quot; fill-rule=&quot;evenodd&quot;%3E%3Cpath d=&quot;M0 40L40 0H20L0 20M40 40V20L20 40&quot;/%3E%3C/g%3E%3C/svg%3E');">
                                        <div class="text-center">
                                            <div class="text-8xl text-orange-300 mb-4 drop-shadow">?</div>
                                            <p class="text-2xl font-black text-slate-900" id="flashcard-front-content">Vraag/Term</p>
                                        </div>
                                    </div>
                                    <div class="flashcard-back absolute inset-0 bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 rounded-3xl border-4 border-emerald-400 flex items-center justify-center p-12 shadow-premium" style="backface-visibility: hidden; transform: rotateY(180deg);">
                                        <p class="text-2xl font-bold text-slate-900 text-center" id="flashcard-back-content">Antwoord/Uitleg</p>
                                    </div>
                                </div>
                            </div>
                            <button class="mt-5 w-full bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-black py-4 rounded-2xl transition-all shadow-premium hover:shadow-glow hover:-translate-y-0.5 active:scale-[0.98] flex items-center justify-center gap-2" id="btn-flip" aria-label="Kaart omdraaien">
                                <span class="text-xl rotate-icon">üîÑ</span> Draai om
                            </button>
                        </div>

                        <div class="flex items-center justify-center gap-3 mb-8" id="flashcard-dots">
                            <!-- Progress dots will be inserted here -->
                        </div>

                        <div class="flex items-center justify-between gap-4 mb-6">
                            <button class="flex-1 bg-white border-2 border-gray-300 hover:border-orange-400 hover:bg-orange-50/30 text-slate-700 font-bold py-4 rounded-2xl transition-all shadow-sm hover:shadow-premium" id="btn-flashcard-prev" aria-label="Vorige kaart">
                                ‚Üê Vorige
                            </button>
                            <button class="flex-1 bg-white border-2 border-gray-300 hover:border-orange-400 hover:bg-orange-50/30 text-slate-700 font-bold py-4 rounded-2xl transition-all shadow-sm hover:shadow-premium" id="btn-flashcard-next" aria-label="Volgende kaart">
                                Volgende ‚Üí
                            </button>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <button class="bg-gradient-to-br from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-lg font-black py-5 rounded-2xl shadow-premium hover:shadow-glow hover:-translate-y-0.5 active:scale-[0.98] transition-all" id="btn-flashcard-know">
                                ‚úì Ik wist het!
                            </button>
                            <button class="bg-gradient-to-br from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white text-lg font-black py-5 rounded-2xl shadow-premium hover:shadow-glow hover:-translate-y-0.5 active:scale-[0.98] transition-all" id="btn-flashcard-practice">
                                ‚Üª Nog oefenen
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Situation Mode Container -->
                <div class="game-container hidden" id="game-situation">
                    <div class="bg-white rounded-3xl shadow-premium border border-gray-100 p-8 mb-6">
                        <h3 class="text-2xl font-black text-slate-900 mb-4 flex items-center gap-3">
                            <span class="text-3xl">üö¶</span>
                            Situatie
                        </h3>
                        <p class="text-lg text-slate-700 leading-relaxed font-semibold" id="situation-scenario-text">
                            Scenario beschrijving komt hier
                        </p>
                    </div>
                    <div class="bg-gradient-to-br from-slate-100 via-gray-100 to-slate-200 rounded-3xl p-10 mb-6 min-h-[200px] flex items-center justify-center text-7xl shadow-premium border border-gray-200" id="situation-visual">
                        üö≤üöóüö¶
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="situation-options">
                        <button class="option-btn bg-white border-2 border-gray-200 rounded-2xl p-5 text-left text-lg font-semibold text-slate-700 hover:border-orange-400 hover:bg-orange-50/30 hover:shadow-premium hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-3" data-option="0"><span class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm font-bold text-slate-600">A</span><span class="flex-1">Optie 1</span></button>
                        <button class="option-btn bg-white border-2 border-gray-200 rounded-2xl p-5 text-left text-lg font-semibold text-slate-700 hover:border-orange-400 hover:bg-orange-50/30 hover:shadow-premium hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-3" data-option="1"><span class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm font-bold text-slate-600">B</span><span class="flex-1">Optie 2</span></button>
                        <button class="option-btn bg-white border-2 border-gray-200 rounded-2xl p-5 text-left text-lg font-semibold text-slate-700 hover:border-orange-400 hover:bg-orange-50/30 hover:shadow-premium hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-3" data-option="2"><span class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm font-bold text-slate-600">C</span><span class="flex-1">Optie 3</span></button>
                        <button class="option-btn bg-white border-2 border-gray-200 rounded-2xl p-5 text-left text-lg font-semibold text-slate-700 hover:border-orange-400 hover:bg-orange-50/30 hover:shadow-premium hover:-translate-y-0.5 transition-all duration-200 flex items-center gap-3" data-option="3"><span class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm font-bold text-slate-600">D</span><span class="flex-1">Optie 4</span></button>
                    </div>
                </div>
            </main>
        </div>

        <!-- 6. Lesson Complete Screen -->
        <div class="screen fixed inset-0 bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 flex items-center justify-center overflow-y-auto results-bg-animate" id="screen-results">
            <div class="max-w-2xl mx-auto px-6 py-8 text-center">
                <!-- Star Animation -->
                <div class="flex items-center justify-center gap-6 mb-10" id="star-animation">
                    <div class="star text-9xl drop-shadow-2xl star-glow" style="animation-delay: 0s; filter: drop-shadow(0 0 20px rgba(251, 191, 36, 0.6));">‚≠ê</div>
                    <div class="star text-9xl drop-shadow-2xl star-glow" style="animation-delay: 0.1s; filter: drop-shadow(0 0 20px rgba(251, 191, 36, 0.6));">‚≠ê</div>
                    <div class="star text-9xl drop-shadow-2xl star-glow" style="animation-delay: 0.2s; filter: drop-shadow(0 0 20px rgba(251, 191, 36, 0.6));">‚≠ê</div>
                </div>

                <h1 class="results-title text-6xl font-black text-slate-900 mb-10 tracking-tight">Les Voltooid!</h1>

                <!-- Results Stats -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
                    <div class="bg-white rounded-3xl shadow-premium border border-gray-100 p-8">
                        <div class="text-slate-600 font-bold mb-2 text-sm uppercase tracking-wide">Score</div>
                        <div class="text-4xl font-black text-slate-900" id="result-score">8 van 10 goed!</div>
                    </div>
                    <div class="bg-gradient-to-br from-emerald-500 via-green-500 to-teal-600 rounded-3xl shadow-premium p-8 text-white relative overflow-hidden" style="box-shadow: 0 0 40px rgba(16, 185, 129, 0.4);">
                        <div class="absolute inset-0 bg-white/10 backdrop-blur-sm"></div>
                        <div class="relative z-10">
                            <div class="text-emerald-100 font-bold mb-2 text-sm uppercase tracking-wide">XP Verdiend</div>
                            <div class="text-4xl font-black" id="result-xp">+50 XP</div>
                        </div>
                    </div>
                </div>

                <!-- New Badges -->
                <div class="mb-8" id="badges-earned">
                    <!-- New badges will be shown here -->
                </div>

                <!-- Action Buttons -->
                <div class="space-y-4">
                    <button class="w-full bg-gradient-to-r from-orange-500 via-orange-600 to-amber-500 hover:from-orange-600 hover:via-orange-700 hover:to-amber-600 text-white text-2xl font-black py-7 rounded-2xl shadow-premium hover:shadow-glow hover:-translate-y-1 active:scale-[0.98] transition-all duration-300" id="btn-next-lesson">
                        Volgende Les ‚Üí
                    </button>
                    <div class="flex gap-4">
                        <button class="flex-1 bg-white border-2 border-gray-300 hover:border-orange-400 hover:bg-orange-50/30 text-slate-700 font-bold py-5 rounded-2xl shadow-sm hover:shadow-premium transition-all" id="btn-retry-lesson">
                            ‚Üª Opnieuw
                        </button>
                        <button class="flex-1 bg-white border-2 border-gray-300 hover:border-orange-400 hover:bg-orange-50/30 text-slate-700 font-bold py-5 rounded-2xl shadow-sm hover:shadow-premium transition-all" id="btn-back-to-overview">
                            Terug naar overzicht
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 7. Badges Screen -->
        <div class="screen fixed inset-0 bg-[#f8f9fc] overflow-y-auto pb-24" id="screen-badges">
            <div class="max-w-6xl mx-auto px-6 py-8">
                <header class="text-center mb-10">
                    <h1 class="text-5xl font-black text-slate-900 mb-3 tracking-tight">üèÖ Jouw Badges</h1>
                    <p class="text-xl text-slate-600 font-bold" id="badges-count">0 van 12 badges verdiend</p>
                </header>

                <main>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6" id="badges-grid">
                        <!-- Badges will be dynamically inserted here -->
                    </div>
                </main>
            </div>

            <!-- Bottom Navigation -->
            <nav class="bottom-nav fixed bottom-0 left-0 right-0 backdrop-blur-xl bg-white/80 shadow-[0_-4px_20px_rgba(0,0,0,0.08)] z-40" id="bottom-nav-badges">
                <div class="max-w-4xl mx-auto flex items-center justify-around h-20">
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 text-slate-500 hover:text-orange-500 relative transition-all" data-screen="home" aria-label="Home">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-0 hover:opacity-50 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üè†</span>
                        <span class="text-xs font-bold relative z-10">Home</span>
                    </button>
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 text-slate-500 hover:text-orange-500 relative transition-all" data-screen="map" aria-label="Leren">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-0 hover:opacity-50 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üó∫Ô∏è</span>
                        <span class="text-xs font-bold relative z-10">Leren</span>
                    </button>
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 text-slate-500 hover:text-orange-500 relative transition-all" data-screen="flashcard-review" aria-label="Kaarten">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-0 hover:opacity-50 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üÉè</span>
                        <span class="text-xs font-bold relative z-10">Kaarten</span>
                    </button>
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 relative transition-all" data-screen="badges" aria-label="Badges">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-100 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üèÖ</span>
                        <span class="text-xs font-bold text-orange-600 relative z-10">Badges</span>
                        <div class="absolute bottom-1 w-1 h-1 rounded-full bg-orange-500"></div>
                    </button>
                </div>
            </nav>
        </div>

        <!-- 8. Flashcard Review Screen -->
        <div class="screen fixed inset-0 bg-[#f8f9fc] overflow-y-auto pb-24" id="screen-flashcard-review">
            <div class="max-w-6xl mx-auto px-6 py-8">
                <header class="text-center mb-10">
                    <h1 class="text-5xl font-black text-slate-900 mb-3 tracking-tight">üÉè Oefen met Kaarten</h1>
                </header>

                <main>
                    <!-- Category Selector -->
                    <section class="category-selector mb-8">
                        <h2 class="text-2xl font-bold text-gray-800 mb-4">Kies een categorie</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="category-grid">
                            <!-- Categories will be dynamically inserted here -->
                        </div>
                    </section>

                    <!-- Review Flashcard Container -->
                    <section class="review-flashcard-container hidden max-w-2xl mx-auto" id="review-flashcard-container">
                        <div class="relative mb-8" style="perspective: 1000px;">
                            <div class="relative bg-white rounded-3xl shadow-premium cursor-pointer aspect-[4/3] border-2 border-gray-200" id="review-flashcard" style="transform-style: preserve-3d; transition: transform 0.6s;">
                                <div class="flashcard-inner absolute inset-0" id="review-flashcard-inner" style="transform-style: preserve-3d; transition: transform 0.6s;">
                                    <div class="flashcard-front absolute inset-0 bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50 rounded-3xl border-4 border-orange-300 flex items-center justify-center p-12 shadow-premium" style="backface-visibility: hidden; background-image: url('data:image/svg+xml,%3Csvg width=&quot;40&quot; height=&quot;40&quot; viewBox=&quot;0 0 40 40&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;%3E%3Cg fill=&quot;%23fb923c&quot; fill-opacity=&quot;0.05&quot; fill-rule=&quot;evenodd&quot;%3E%3Cpath d=&quot;M0 40L40 0H20L0 20M40 40V20L20 40&quot;/%3E%3C/g%3E%3C/svg%3E');">
                                        <div class="text-center">
                                            <div class="text-8xl text-orange-300 mb-4 drop-shadow">?</div>
                                            <p class="text-2xl font-black text-slate-900" id="review-flashcard-front-content">Vraag/Term</p>
                                        </div>
                                    </div>
                                    <div class="flashcard-back absolute inset-0 bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 rounded-3xl border-4 border-emerald-400 flex items-center justify-center p-12 shadow-premium" style="backface-visibility: hidden; transform: rotateY(180deg);">
                                        <p class="text-2xl font-bold text-slate-900 text-center" id="review-flashcard-back-content">Antwoord/Uitleg</p>
                                    </div>
                                </div>
                            </div>
                            <button class="mt-5 w-full bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-black py-4 rounded-2xl transition-all shadow-premium hover:shadow-glow hover:-translate-y-0.5 active:scale-[0.98] flex items-center justify-center gap-2" id="btn-review-flip" aria-label="Kaart omdraaien">
                                <span class="text-xl rotate-icon">üîÑ</span> Draai om
                            </button>
                        </div>

                        <div class="text-center text-xl font-black text-slate-700 mb-8 bg-slate-100 py-3 px-6 rounded-2xl inline-block" id="review-progress">
                            <span id="review-current">1</span> / <span id="review-total">10</span>
                        </div>

                        <div class="flex items-center justify-between gap-4 mb-6">
                            <button class="flex-1 bg-white border-2 border-gray-300 hover:border-orange-400 hover:bg-orange-50/30 text-slate-700 font-bold py-4 rounded-2xl transition-all shadow-sm hover:shadow-premium" id="btn-review-prev" aria-label="Vorige kaart">
                                ‚Üê Vorige
                            </button>
                            <button class="flex-1 bg-white border-2 border-gray-300 hover:border-orange-400 hover:bg-orange-50/30 text-slate-700 font-bold py-4 rounded-2xl transition-all shadow-sm hover:shadow-premium" id="btn-review-next" aria-label="Volgende kaart">
                                Volgende ‚Üí
                            </button>
                        </div>

                        <button class="w-full bg-slate-200 hover:bg-slate-300 text-slate-700 font-bold py-4 rounded-2xl transition-all shadow-sm hover:shadow-premium" id="btn-back-to-categories">
                            ‚Üê Terug naar categorie√´n
                        </button>
                    </section>
                </main>
            </div>

            <!-- Bottom Navigation -->
            <nav class="bottom-nav fixed bottom-0 left-0 right-0 backdrop-blur-xl bg-white/80 shadow-[0_-4px_20px_rgba(0,0,0,0.08)] z-40" id="bottom-nav-flashcards">
                <div class="max-w-4xl mx-auto flex items-center justify-around h-20">
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 text-slate-500 hover:text-orange-500 relative transition-all" data-screen="home" aria-label="Home">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-0 hover:opacity-50 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üè†</span>
                        <span class="text-xs font-bold relative z-10">Home</span>
                    </button>
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 text-slate-500 hover:text-orange-500 relative transition-all" data-screen="map" aria-label="Leren">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-0 hover:opacity-50 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üó∫Ô∏è</span>
                        <span class="text-xs font-bold relative z-10">Leren</span>
                    </button>
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 relative transition-all" data-screen="flashcard-review" aria-label="Kaarten">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-100 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üÉè</span>
                        <span class="text-xs font-bold text-orange-600 relative z-10">Kaarten</span>
                        <div class="absolute bottom-1 w-1 h-1 rounded-full bg-orange-500"></div>
                    </button>
                    <button class="nav-item flex flex-col items-center justify-center gap-1 px-6 py-2 text-slate-500 hover:text-orange-500 relative transition-all" data-screen="badges" aria-label="Badges">
                        <div class="absolute inset-0 rounded-2xl bg-orange-100 opacity-0 hover:opacity-50 transition-opacity"></div>
                        <span class="text-2xl relative z-10">üèÖ</span>
                        <span class="text-xs font-bold relative z-10">Badges</span>
                    </button>
                </div>
            </nav>
        </div>

        <!-- Feedback Overlay (for correct/incorrect answers) -->
        <div class="feedback-overlay fixed inset-x-0 bottom-0 transform translate-y-full transition-transform duration-300 z-50" id="feedback-overlay">
            <div class="bg-white/95 backdrop-blur-xl rounded-t-3xl shadow-premium border-t-4 border-green-500 max-w-2xl mx-auto p-8" id="feedback-content">
                <div class="text-center">
                    <div class="text-7xl mb-4 drop-shadow-lg" id="feedback-icon">‚úì</div>
                    <div class="text-3xl font-black text-slate-900 mb-3" id="feedback-text">Goed gedaan!</div>
                    <div class="text-lg text-slate-600 mb-8 font-semibold" id="feedback-explanation"></div>
                    <button class="bg-gradient-to-r from-orange-500 via-orange-600 to-amber-500 hover:from-orange-600 hover:via-orange-700 hover:to-amber-600 text-white text-xl font-black py-5 px-14 rounded-2xl shadow-premium hover:shadow-glow hover:-translate-y-0.5 active:scale-[0.98] transition-all" id="feedback-continue">Volgende</button>
                </div>
            </div>
        </div>

        <!-- Modal/Overlay -->
        <div class="modal-overlay fixed inset-0 bg-black/50 hidden items-center justify-center z-50 p-6" id="modal-overlay">
            <div class="bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto relative" id="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
                <button class="absolute top-4 right-4 w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-2xl font-bold text-gray-600 transition-colors z-10" id="modal-close" aria-label="Sluiten">&times;</button>
                <div class="p-8" id="modal-content"></div>
            </div>
        </div>

        <!-- Confetti Container -->
        <div class="confetti-container fixed inset-0 pointer-events-none z-[60]" id="confetti-container" aria-hidden="true"></div>

    </div>

    <!-- Hidden SVG definitions for traffic signs (optional) -->
    <svg style="display: none;" aria-hidden="true">
        <defs>
            <!-- Traffic sign symbols can be defined here and referenced via <use> tags -->
            <symbol id="stop-sign" viewBox="0 0 100 100">
                <polygon points="50,5 85,20 95,50 85,80 50,95 15,80 5,50 15,20" fill="#E30613" stroke="#fff" stroke-width="3"/>
                <text x="50" y="60" text-anchor="middle" fill="#fff" font-size="24" font-weight="bold">STOP</text>
            </symbol>
        </defs>
    </svg>

    <!-- No JavaScript Warning -->
    <noscript>
        <div class="fixed inset-0 bg-white flex items-center justify-center flex-col p-8 text-center z-[10000]">
            <h1 class="text-5xl mb-4">üö≤ FietsQuiz</h1>
            <p class="text-xl mb-4">JavaScript is vereist om FietsQuiz te gebruiken.</p>
            <p class="text-gray-600">Schakel JavaScript in je browser in om te kunnen spelen.</p>
        </div>
    </noscript>

    <!-- JavaScript Files -->
    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
